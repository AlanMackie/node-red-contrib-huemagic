<script type="text/x-red" data-help-name="hue-button">
    <p>Hue Smart Button node to receive button events.</p>

    <h3>Setup</h3>
    <p>Select the preconfigured Hue Bridge and hit the search button to find all available Hue Smart Button devices. Type in the name manually or keep the default device name. Note that events will only sent on deploy (once) and if the button is pressed. If necessary, all status updates of this node can be ignored by activating the "Skip events" option.</p>

    <h3>Button Events</h3>
    <p>The event message that the Hue Smart Button sends contains the following data in the <b>msg.payload</b> object:</p>
    <dl class="message-properties">
        <dt>button<span class="property-type">int</span></dt>
        <dd>Pressed button id, 1002 for normal press, 1003 for long press (release) and 1001 during long press.</dd>

        <dt>name<span class="property-type">string</span></dt>
        <dd>Human readable pressed button name (always On)</dd>

        <dt>action<span class="property-type">string</span></dt>
        <dd>Human readable pressed button action (short released, long released, holded)</dd>

        <dt>updated<span class="property-type">string</span></dt>
        <dd>ISO 8601 date string of the last time when the button was pressed</dd>
    </dl>

    <h3>Additional Sensor Info</h3>
    <p>Additional information about the device is going to be sent to the <b>msg.info</b> object:</p>
    <dl class="message-properties">
        <dt>id<span class="property-type">int</span></dt>
        <dd>Numerical id of the sensor as registered on the bridge</dd>

        <dt>uniqueId<span class="property-type">string</span></dt>
        <dd>Unique Id of the sensor (typically hardware id)</dd>

        <dt>name<span class="property-type">string</span></dt>
        <dd>Name for the sensor</dd>

        <dt>type<span class="property-type">string</span></dt>
        <dd>Sensor type (e.g. Daylight, CLIPTemperature, ZGPSwitch)</dd>

        <dt>softwareVersion<span class="property-type">float</span></dt>
        <dd>Software version of the sensor</dd>

        <dt>battery<span class="property-type">int</span></dt>
        <dd>Current battery level of the Hue Switch in percent</dd>

        <dt>model<span class="property-type">object</span></dt>
        <dd>The model object of the sensor includes model specific information like the model.id, model.manufacturer, model.name and model.type</dd>
    </dl>

    <h3>Last State Information</h3>
    <p>This node also sends the entire last state data (before the update) in the <b>msg.lastState</b> object. It can either contain false (boolean) or the objects payload (msg.lastState.payload) and info (msg.lastState.info). The return value "false" is only sent if there was no last state, e.g. when the node was newly created or restarted.</p>
</script>
